<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>czlab.blutbad.web.auth documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Blutbad</span> <span class="project-version">2.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to Wabbit</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>czlab</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blutbad</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cons</span></div></div></li><li class="depth-4 branch"><a href="czlab.blutbad.cons.con1.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>con1</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.cons.con2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>con2</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.cons.con4.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>con4</span></div></a></li><li class="depth-4"><a href="czlab.blutbad.cons.con7.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>con7</span></div></a></li><li class="depth-3 branch"><a href="czlab.blutbad.core.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>demo</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>file</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.file.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>flows</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.flows.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>fork</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.fork.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-5 branch"><a href="czlab.blutbad.demo.http.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-5 branch"><a href="czlab.blutbad.demo.http.formpost.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>formpost</span></div></a></li><li class="depth-5"><a href="czlab.blutbad.demo.http.websock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websock</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>jms</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.jms.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>pop3</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.pop3.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>tcpip</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.tcpip.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>timer</span></div></div></li><li class="depth-5"><a href="czlab.blutbad.demo.timer.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="czlab.blutbad.exec.html"><div class="inner"><span class="tree" style="top: -579px;"><span class="top" style="height: 588px;"></span><span class="bottom"></span></span><span>exec</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jmx</span></div></div></li><li class="depth-4 branch"><a href="czlab.blutbad.jmx.bean.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bean</span></div></a></li><li class="depth-4"><a href="czlab.blutbad.jmx.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>plugs</span></div></div></li><li class="depth-4 branch"><a href="czlab.blutbad.plugs.files.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>files</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.plugs.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.plugs.jms.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jms</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.plugs.loops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>loops</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.plugs.mails.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mails</span></div></a></li><li class="depth-4"><a href="czlab.blutbad.plugs.tcp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tcp</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-4 branch current"><a href="czlab.blutbad.web.auth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></a></li><li class="depth-4 branch"><a href="czlab.blutbad.web.ftl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ftl</span></div></a></li><li class="depth-4"><a href="czlab.blutbad.web.realm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>realm</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-*auth-db*"><div class="inner"><span>*auth-db*</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-add-account"><div class="inner"><span>add-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-add-login-account-role"><div class="inner"><span>add-login-account-role</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-apply-ddl"><div class="inner"><span>apply-ddl</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-auth-meta-cache"><div class="inner"><span>auth-meta-cache</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-change-login-account"><div class="inner"><span>change-login-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-check-action"><div class="inner"><span>check-action</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-create-auth-role"><div class="inner"><span>create-auth-role</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-create-login-account"><div class="inner"><span>create-login-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-csrf-token.3C.3E"><div class="inner"><span>csrf-token&lt;&gt;</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-delete-auth-role"><div class="inner"><span>delete-auth-role</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-delete-login-account"><div class="inner"><span>delete-login-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-delete-login-account-role"><div class="inner"><span>delete-login-account-role</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-delete-user"><div class="inner"><span>delete-user</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-do-login"><div class="inner"><span>do-login</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-do-signup"><div class="inner"><span>do-signup</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-export-auth-pluglet-ddl"><div class="inner"><span>export-auth-pluglet-ddl</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-find-login-account"><div class="inner"><span>find-login-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-find-login-account-via-email"><div class="inner"><span>find-login-account-via-email</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-gen-auth-plugin-ddl"><div class="inner"><span>gen-auth-plugin-ddl</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-get-account"><div class="inner"><span>get-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-get-auth-info.3F.3F"><div class="inner"><span>get-auth-info??</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-get-login-account"><div class="inner"><span>get-login-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-get-roles"><div class="inner"><span>get-roles</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-has-account.3F"><div class="inner"><span>has-account?</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-has-login-account.3F"><div class="inner"><span>has-login-account?</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-list-auth-roles"><div class="inner"><span>list-auth-roles</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-list-login-accounts"><div class="inner"><span>list-login-accounts</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-list-roles"><div class="inner"><span>list-roles</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-login"><div class="inner"><span>login</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-new-session.3C.3E"><div class="inner"><span>new-session&lt;&gt;</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-update-login-account"><div class="inner"><span>update-login-account</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-web-auth.3C.3E"><div class="inner"><span>web-auth&lt;&gt;</span></div></a></li><li class="depth-1"><a href="czlab.blutbad.web.auth.html#var-WebAuthSpec"><div class="inner"><span>WebAuthSpec</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">czlab.blutbad.web.auth</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*auth-db*"><h3>*auth-db*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-add-account"><h3>add-account</h3><div class="usage"><code>(add-account auth arg)</code></div><div class="doc"><pre class="plaintext">Create a new user account.
</pre></div></div><div class="public anchor" id="var-add-login-account-role"><h3>add-login-account-role</h3><div class="usage"><code>(add-login-account-role sql user role)</code></div><div class="doc"><pre class="plaintext">Add a role to this user.
</pre></div></div><div class="public anchor" id="var-apply-ddl"><h3>apply-ddl</h3><div class="usage"><code>(apply-ddl arg)</code></div><div class="doc"><pre class="plaintext">Upload DDL to the database.
</pre></div></div><div class="public anchor" id="var-auth-meta-cache"><h3>auth-meta-cache</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-change-login-account"><h3>change-login-account</h3><div class="usage"><code>(change-login-account sql userObj pwdObj)</code></div><div class="doc"><pre class="plaintext">Change the account password.
</pre></div></div><div class="public anchor" id="var-check-action"><h3>check-action</h3><div class="usage"><code>(check-action p acctObj action)</code></div><div class="doc"><pre class="plaintext">Check if action is allowed.
</pre></div></div><div class="public anchor" id="var-create-auth-role"><h3>create-auth-role</h3><div class="usage"><code>(create-auth-role sql role desc)</code></div><div class="doc"><pre class="plaintext">Create a new auth-role in db.
</pre></div></div><div class="public anchor" id="var-create-login-account"><h3>create-login-account</h3><div class="usage"><code>(create-login-account sql user pwdObj)</code><code>(create-login-account sql user pwdObj props)</code><code>(create-login-account sql user pwdObj props roleObjs)</code></div><div class="doc"><pre class="plaintext">Create a new account
props : extra properties, such as email address.
roleObjs : a list of roles to be assigned to the account.</pre></div></div><div class="public anchor" id="var-csrf-token.3C.3E"><h3>csrf-token&lt;&gt;</h3><div class="usage"><code>(csrf-token&lt;&gt; cfg)</code><code>(csrf-token&lt;&gt; arg token)</code></div><div class="doc"><pre class="plaintext">Create or delete a csrf cookie,
if maxAge=-1, browser doesnt sent it back!</pre></div></div><div class="public anchor" id="var-delete-auth-role"><h3>delete-auth-role</h3><div class="usage"><code>(delete-auth-role sql role)</code></div><div class="doc"><pre class="plaintext">Delete this role.
</pre></div></div><div class="public anchor" id="var-delete-login-account"><h3>delete-login-account</h3><div class="usage"><code>(delete-login-account sql acctObj)</code></div><div class="doc"><pre class="plaintext">Delete this account.
</pre></div></div><div class="public anchor" id="var-delete-login-account-role"><h3>delete-login-account-role</h3><div class="usage"><code>(delete-login-account-role sql user role)</code></div><div class="doc"><pre class="plaintext">Remove a role from this user.
</pre></div></div><div class="public anchor" id="var-delete-user"><h3>delete-user</h3><div class="usage"><code>(delete-user sql user)</code></div><div class="doc"><pre class="plaintext">Delete the account with this user id.
</pre></div></div><div class="public anchor" id="var-do-login"><h3>do-login</h3><div class="usage"><code>(do-login auth u p)</code></div><div class="doc"><pre class="plaintext">Attempt to login.
</pre></div></div><div class="public anchor" id="var-do-signup"><h3>do-signup</h3><div class="usage"><code>(do-signup evt)</code></div><div class="doc"><pre class="plaintext">Handle a sign-up event.
</pre></div></div><div class="public anchor" id="var-export-auth-pluglet-ddl"><h3>export-auth-pluglet-ddl</h3><div class="usage"><code>(export-auth-pluglet-ddl spec file)</code></div><div class="doc"><pre class="plaintext">Output the auth-plugin ddl to file.
</pre></div></div><div class="public anchor" id="var-find-login-account"><h3>find-login-account</h3><div class="usage"><code>(find-login-account sql user)</code></div><div class="doc"><pre class="plaintext">Look for account with this user id.
</pre></div></div><div class="public anchor" id="var-find-login-account-via-email"><h3>find-login-account-via-email</h3><div class="usage"><code>(find-login-account-via-email sql email)</code></div><div class="doc"><pre class="plaintext">Look for account with this email address.
</pre></div></div><div class="public anchor" id="var-gen-auth-plugin-ddl"><h3>gen-auth-plugin-ddl</h3><div class="usage"><code>(gen-auth-plugin-ddl spec)</code></div><div class="doc"><pre class="plaintext">Generate db ddl for the auth-plugin.
</pre></div></div><div class="public anchor" id="var-get-account"><h3>get-account</h3><div class="usage"><code>(get-account auth arg)</code></div><div class="doc"><pre class="plaintext">Get the account belonging to this user.
</pre></div></div><div class="public anchor" id="var-get-auth-info.3F.3F"><h3>get-auth-info??</h3><div class="usage"><code>(get-auth-info?? evt)</code></div><div class="doc"><pre class="plaintext">Attempt to parse and get authentication info.
</pre></div></div><div class="public anchor" id="var-get-login-account"><h3>get-login-account</h3><div class="usage"><code>(get-login-account sql user pwd)</code></div><div class="doc"><pre class="plaintext">Get the user account.
</pre></div></div><div class="public anchor" id="var-get-roles"><h3>get-roles</h3><div class="usage"><code>(get-roles auth acct)</code></div><div class="doc"><pre class="plaintext">Get roles assigned to this account.
</pre></div></div><div class="public anchor" id="var-has-account.3F"><h3>has-account?</h3><div class="usage"><code>(has-account? auth arg)</code></div><div class="doc"><pre class="plaintext">Does this account exist?
</pre></div></div><div class="public anchor" id="var-has-login-account.3F"><h3>has-login-account?</h3><div class="usage"><code>(has-login-account? sql user)</code></div><div class="doc"><pre class="plaintext">If this user account exists?
</pre></div></div><div class="public anchor" id="var-list-auth-roles"><h3>list-auth-roles</h3><div class="usage"><code>(list-auth-roles sql)</code></div><div class="doc"><pre class="plaintext">List all the roles in db.
</pre></div></div><div class="public anchor" id="var-list-login-accounts"><h3>list-login-accounts</h3><div class="usage"><code>(list-login-accounts sql)</code></div><div class="doc"><pre class="plaintext">List all user accounts.
</pre></div></div><div class="public anchor" id="var-list-roles"><h3>list-roles</h3><div class="usage"><code>(list-roles acct sql)</code></div><div class="doc"><pre class="plaintext">List all roles assigned to this account.
</pre></div></div><div class="public anchor" id="var-login"><h3>login</h3><div class="usage"><code>(login evt)</code></div><div class="doc"><pre class="plaintext">Handle a login event.
</pre></div></div><div class="public anchor" id="var-new-session.3C.3E"><h3>new-session&lt;&gt;</h3><div class="usage"><code>(new-session&lt;&gt; evt)</code><code>(new-session&lt;&gt; evt attrs)</code></div><div class="doc"><pre class="plaintext">Create a new web session.
</pre></div></div><div class="public anchor" id="var-update-login-account"><h3>update-login-account</h3><div class="usage"><code>(update-login-account sql userObj details)</code></div><div class="doc"><pre class="plaintext">Update account details
details: a set of properties such as email address.</pre></div></div><div class="public anchor" id="var-web-auth.3C.3E"><h3>web-auth&lt;&gt;</h3><div class="usage"><code>(web-auth&lt;&gt; co id)</code><code>(web-auth&lt;&gt; co id options)</code></div><div class="doc"><pre class="plaintext">Create a Web Auth Plugin.
</pre></div></div><div class="public anchor" id="var-WebAuthSpec"><h3>WebAuthSpec</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>